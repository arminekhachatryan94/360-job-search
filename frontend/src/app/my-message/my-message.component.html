<p>
  {{messages | json}}
  {{fromUsers | json}} 
</p>

<div style="border-width:3px !important;" class="row">
<div class="col-5 my-primary" style="overflow-y: scroll; height:400px;">  
<div *ngFor="let fromUser of fromUsers; let i = index">
  <div  class="row border" *ngIf="fromUser.id!=user.id" class="my-primary" (click)="displayMessage(fromUser.id)">
    <div class="row border">
      <div class="col-8 align-middle">
        <p  class="align-middle text-light">{{ email(fromUser.id) }}</p> 
      </div>
    <div class="col-4">
      <i style="float: right" class="fas fa-user fa-6x my-light"></i>
    </div>
    </div>
  </div>
</div>
</div>
<div id="messageDIV" class="col-7" style="overflow-y: scroll; height:400px;">
    <div *ngFor="let message of currentMessages; let i = index" >
      {{updateScroll()}}
      <div *ngIf="message.fromUser==myId()">
          <div class="alert alert-primary"> {{message.message}} </div>
      </div>
      <div *ngIf="message.toUser==myId()">
          <div class="alert alert-success"> {{message.message}} </div>
      </div>
    </div>
  </div>


</div>

<div class="row">
    <div style="width:100%">
      <form [formGroup]="messageForm"   (click)="onSubmit(submitBtn)">
          <textarea formControlName="message" class="form-control rounded-0" rows=7 id="message"  required>
          </textarea>
        <button style="width: 100%" #submitBtn type="submit" class="my-btn-primary btn-lg">Send Message</button>
      </form>
    </div>
</div>

{{ diagnostic }}
{{currentMessages | json}}



